(function(t){function e(e){for(var s,r,o=e[0],c=e[1],l=e[2],d=0,m=[];d<o.length;d++)r=o[d],n[r]&&m.push(n[r][0]),n[r]=0;for(s in c)Object.prototype.hasOwnProperty.call(c,s)&&(t[s]=c[s]);u&&u(e);while(m.length)m.shift()();return a.push.apply(a,l||[]),i()}function i(){for(var t,e=0;e<a.length;e++){for(var i=a[e],s=!0,o=1;o<i.length;o++){var c=i[o];0!==n[c]&&(s=!1)}s&&(a.splice(e--,1),t=r(r.s=i[0]))}return t}var s={},n={app:0},a=[];function r(e){if(s[e])return s[e].exports;var i=s[e]={i:e,l:!1,exports:{}};return t[e].call(i.exports,i,i.exports,r),i.l=!0,i.exports}r.m=t,r.c=s,r.d=function(t,e,i){r.o(t,e)||Object.defineProperty(t,e,{enumerable:!0,get:i})},r.r=function(t){"undefined"!==typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(t,"__esModule",{value:!0})},r.t=function(t,e){if(1&e&&(t=r(t)),8&e)return t;if(4&e&&"object"===typeof t&&t&&t.__esModule)return t;var i=Object.create(null);if(r.r(i),Object.defineProperty(i,"default",{enumerable:!0,value:t}),2&e&&"string"!=typeof t)for(var s in t)r.d(i,s,function(e){return t[e]}.bind(null,s));return i},r.n=function(t){var e=t&&t.__esModule?function(){return t["default"]}:function(){return t};return r.d(e,"a",e),e},r.o=function(t,e){return Object.prototype.hasOwnProperty.call(t,e)},r.p="/";var o=window["webpackJsonp"]=window["webpackJsonp"]||[],c=o.push.bind(o);o.push=e,o=o.slice();for(var l=0;l<o.length;l++)e(o[l]);var u=c;a.push([0,"chunk-vendors"]),i()})({0:function(t,e,i){t.exports=i("56d7")},"0f94":function(t,e,i){"use strict";var s=i("3390"),n=i.n(s);n.a},1539:function(t,e,i){"use strict";var s=i("9791"),n=i.n(s);n.a},1914:function(t,e,i){},"20f4":function(t,e,i){},"21bb":function(t,e,i){"use strict";var s=i("1914"),n=i.n(s);n.a},2856:function(t,e,i){},"290e":function(t,e,i){"use strict";var s=i("a8f7"),n=i.n(s);n.a},3390:function(t,e,i){},3863:function(t,e,i){"use strict";var s=i("20f4"),n=i.n(s);n.a},"3b3b":function(t,e,i){"use strict";var s=i("f0ba"),n=i.n(s);n.a},"56d7":function(t,e,i){"use strict";i.r(e);i("cadf"),i("551c"),i("097d");var s=i("2b0e"),n=function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("div",{attrs:{id:"app"}},[t._m(0),i("div",{staticClass:"main"},[i("div",{staticClass:"nav"},[i("sim-search",{attrs:{simulations:t.simulations}})],1),i("div",{staticClass:"content"},[i("router-view")],1)])])},a=[function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("div",{staticClass:"top"},[i("a",{attrs:{href:"/"}},[i("div",{staticClass:"title nes-text is-primary"},[t._v(" Deep Learning Logbook")])]),i("div",{staticClass:"ceem"},[t._v(" UNSW CEEM "),i("i",{staticClass:"nes-icon github is-small"})])])}],r=function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("div",{staticClass:"search"},[i("h4",[t._v("Simulations")]),i("div",{staticClass:"simlist"},t._l(t.simulations,function(e){return i("div",[e.archived?t._e():i("router-link",{staticClass:"simlink",attrs:{to:{name:"summary",params:{id:e.id}}}},[t._v(t._s(e.label))])],1)}))])},o=[],c=i("bc3a"),l=i.n(c),u=l.a.create({baseURL:"/api/",headers:{"Content-Type":"application/json"}});u.interceptors.request.use(function(t){return t.headers["Authorization"]="Fake Token",t}),u.interceptors.response.use(function(t){return t},function(t){return console.log(t),Promise.reject(t)});var d={fetchResource:function(){return u.get("resource/xxx").then(function(t){return t.data})},fetchSecureResource:function(){return u.get("secure-resource/zzz").then(function(t){return t.data})},fetchSimulation:function(t){return u.get("simdata/"+t).then(function(t){return t.data})},fetchSimulationList:function(){return u.get("simdata/list").then(function(t){return t.data})},postNotes:function(t,e){return u.post("simdata/"+t+"/notes",{notes:e}).then(function(t){return t.data})},postLabel:function(t,e){return u.post("simdata/"+t+"/label",{label:e}).then(function(t){return t.data})},postArchive:function(t,e){return u.post("simdata/"+t+"/archive",{}).then(function(t){return t.data})},postUnarchive:function(t,e){return u.post("simdata/"+t+"/unarchive",{}).then(function(t){return t.data})}},m={name:"SimSearch",data:function(){return{simulations:[]}},methods:{refresh:function(){var t=this;this.simulation=null,d.fetchSimulationList().then(function(e){t.simulations=e}).catch(function(t){console.log(t.message)})}},mounted:function(){this.refresh()}},h=m,p=(i("0f94"),i("2877")),f=Object(p["a"])(h,r,o,!1,null,"781208b9",null);f.options.__file="SimSearch.vue";var _=f.exports,v={name:"app",components:{SimSearch:_},data:function(){return{simulations:[]}},mounted:function(){for(var t=0;t<100;t++)this.simulations.push({id:t,label:"Simulation "+t})}},b=v,g=(i("5c0b"),Object(p["a"])(b,n,a,!1,null,null,null));g.options.__file="App.vue";var k=g.exports,y=i("8c4f"),x=function(){var t=this,e=t.$createElement;t._self._c;return t._m(0)},S=[function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("div",{staticClass:"home"},[i("h1",{staticClass:"nes-text is-primary"},[t._v("Deep Learning Logbook")]),i("p",[t._v("This logbook tracks deep learning simulations of electricity markets. It is designed to provide insights into participant bidding behaviour. ")]),i("p",[t._v("It is the user interface for the openai gym electricity market simulator, developed by Luke Marshall at the UNSW Center for Energy and Environmental Markets.")]),i("p",[t._v("You can find the deep learning simulation code at the project github "),i("a",{attrs:{href:"https://github.com/luke-marshall/energy-market-deep-learning"}},[t._v("here.")])]),i("p",[t._v("The source code for this logbook dashboard tool can be found  "),i("a",{attrs:{href:"https://github.com/luke-marshall/market-control-room"}},[t._v("here.")])])])}],C=function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("div",{staticClass:"nes-container with-title"},[i("h3",{staticClass:"title"},[t._v("Hyperparameters.")]),i("table",{staticClass:"nes-table is-bordered is-centered",staticStyle:{width:"100%"}},t._l(t.hyperparameters,function(e,s){return i("tr",[i("td",[t._v(t._s(s))]),i("td",[t._v(t._s(e))])])}))])},w=[],O={name:"Hyperparameters",props:{hyperparameters:Object,msg:String}},j=O,E=(i("3863"),Object(p["a"])(j,C,w,!1,null,"5dbd5b2f",null));E.options.__file="Hyperparameters.vue";var M=E.exports,N={name:"home",components:{Hyperparameters:M}},$=N,A=(i("21bb"),Object(p["a"])($,x,S,!1,null,null,null));A.options.__file="Home.vue";var R=A.exports,L=function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("div",{staticClass:"about"},[i("h1",[t._v("Backend Resources Demo")]),i("p",[t._v("Click on the links below to fetch data from the Flask server")]),i("a",{attrs:{href:""},on:{click:function(e){return e.preventDefault(),t.fetchResource(e)}}},[t._v("Fetch")]),i("br"),i("a",{attrs:{href:""},on:{click:function(e){return e.preventDefault(),t.fetchSecureResource(e)}}},[t._v("Fetch Secure Resource")]),i("h4",[t._v("Results")]),t._l(t.resources,function(e){return i("p",{key:e.timestamp},[t._v("\n    Server Timestamp: "+t._s(t._f("formatTimestamp")(e.timestamp))+"\n  ")])}),i("p",[t._v(t._s(t.error))])],2)},T=[],P={name:"about",data:function(){return{resources:[],error:""}},methods:{fetchResource:function(){var t=this;d.fetchResource().then(function(e){t.resources.push(e)}).catch(function(e){t.error=e.message})},fetchSecureResource:function(){var t=this;d.fetchSecureResource().then(function(e){t.resources.push(e)}).catch(function(e){t.error=e.message})}}},B=P,D=(i("a822"),Object(p["a"])(B,L,T,!1,null,null,null));D.options.__file="Api.vue";var U=D.exports,H=function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("div",{staticClass:"summary"},[t.simulation?i("div",[i("editableheader",{attrs:{label:t.simulation.label,id:t.id}}),i("archiving",{attrs:{id:t.id,archived:t.simulation.archived}}),i("metadata",{attrs:{metadata:t.simulation.metadata}}),i("Notes",{attrs:{notes:t.simulation.notes,id:t.id}}),i("hyperparameters",{attrs:{hyperparameters:t.simulation.hyperparameters}}),t._l(t.simulation.timeseries,function(t,e){return i("simplechart",{attrs:{timeseries:t}})}),i("bidstack",{attrs:{bidstacks:t.simulation.bidstacks,demand:t.simulation.timeseries.demand.data}})],2):i("div",{staticClass:"loading"},[i("h1",[t._v("LOADING...")])])])},W=[],z=function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("div",{staticClass:"archiving nes-container"},[t.archived?i("div",{staticClass:"archive-scenario"},[i("h3",[t._v("Archived")])]):i("div",{staticClass:"archive-scenario"},[i("h3",[t._v("Not Archived")]),i("button",{staticClass:"nes-btn is-success",class:{"is-warning":t.is_submitting},attrs:{type:"button"},on:{click:function(e){t.submit_archive()}}},[t.is_submitting?i("span",[t._v("Archiving...")]):i("span",[t._v("Archive")])])])])},F=[],I={name:"Notes",props:{archived:Boolean,id:String},data:function(){return{label_text:"Sample",mode:"display",is_submitting:!1}},methods:{submit_archive:function(){var t=this;this.is_submitting||(this.is_submitting=!0,d.postArchive(this.id).then(function(e){console.log("Archive submitted. Response:",e),t.mode="display",t.is_submitting=!1}).catch(function(t){console.log("Archive submission error: ",t.message)}))}},mounted:function(){this.label_text=this.label}},J=I,Y=(i("290e"),Object(p["a"])(J,z,F,!1,null,"19a4e732",null));Y.options.__file="Archiving.vue";var q=Y.exports,G=function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("div",{staticClass:"nes-container with-title"},[i("h3",{staticClass:"title"},[t._v("Metadata")]),i("table",{staticClass:"nes-table is-bordered is-centered",staticStyle:{width:"100%"}},t._l(t.metadata,function(e,s){return i("tr",[i("td",[t._v(t._s(s))]),i("td",[t._v(t._s(e))])])}))])},K=[],Q={name:"Metadata",props:{metadata:Object}},V=Q,X=(i("a3b5"),Object(p["a"])(V,G,K,!1,null,"02575778",null));X.options.__file="Metadata.vue";var Z=X.exports,tt=function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("div",{staticClass:"nes-container with-title"},[i("h3",{staticClass:"title"},[t._v("Notes")]),"display"==t.mode?i("div",{staticClass:"nes-container notes-text"},[t._v("\n      "+t._s(t.notes_text)+"\n  ")]):t._e(),"display"==t.mode?i("button",{staticClass:"nes-btn is-primary",attrs:{type:"button"},on:{click:function(e){t.mode="edit"}}},[t._v("Edit")]):t._e(),"edit"==t.mode?i("textarea",{directives:[{name:"model",rawName:"v-model",value:t.notes_text,expression:"notes_text"}],staticClass:"nes-textarea",attrs:{id:"textarea_field"},domProps:{value:t.notes_text},on:{input:function(e){e.target.composing||(t.notes_text=e.target.value)}}}):t._e(),"edit"==t.mode?i("button",{staticClass:"nes-btn is-success",class:{"is-warning":t.is_submitting},attrs:{type:"button"},on:{click:function(e){t.submit_notes()}}},[t.is_submitting?i("span",[t._v("Uploading...")]):i("span",[t._v("Submit")])]):t._e()])},et=[],it={name:"Notes",props:{notes:String,id:String},data:function(){return{notes_text:"Sample",mode:"display",is_submitting:!1}},methods:{submit_notes:function(){var t=this;this.is_submitting||(this.is_submitting=!0,d.postNotes(this.id,this.notes_text).then(function(e){console.log("Notes submitted. Response:",e),t.mode="display",t.is_submitting=!1}).catch(function(t){console.log("Note submission error: ",t.message)}))}},watch:{notes_text:function(){}},mounted:function(){this.notes_text=this.notes}},st=it,nt=(i("3b3b"),Object(p["a"])(st,tt,et,!1,null,"22486ff2",null));nt.options.__file="Notes.vue";var at=nt.exports,rt=function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("div",{staticClass:"nes-container with-title"},[i("h3",{staticClass:"title"},[t._v("Bidstack")]),i("div",{staticClass:"chart"},[i("highcharts",{attrs:{options:t.chart_options}})],1),i("span",[t._v("Selected timestep: "+t._s(t.selected))]),i("div",{staticClass:"columns"},[t._m(0),i("div",{staticClass:"demand-marker",style:{width:t.get_width_percent(t.selected_demand)+"%"}},[t._v(".")]),t._l(t.sorted_bidstack,function(e,s){return i("div",{staticClass:"column",style:{height:t.get_height_percent(e.price)+"%",width:t.get_width_percent(e.volume)+"%","background-color":t.get_color(e),transform:t.get_transform(e.price)},on:{click:function(i){t.select_bid(e)}}},[t._v("\n        "+t._s(e.meta.label)+" $"+t._s(e.price)+"\n      ")])})],2),i("span",[t._v("Selected Bid: "+t._s(t.selected_bid.meta.label)+" - $"+t._s(t.selected_bid.price)+"/MWh - "+t._s(t.selected_bid.volume)+" MWh ")])])},ot=[function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("div",{staticClass:"y-axis-label"},[i("span",[t._v("Max")]),i("span",[t._v("Min")])])}],ct=(i("55dd"),i("7f7f"),i("6b54"),i("ac2a")),lt=i.n(ct),ut=i("5d8a"),dt=i.n(ut),mt={name:"Bidstack",props:{bidstacks:Object,demand:Array},data:function(){return{selected:"",selected_demand:0,bidstack:{nyngan:{meta:{label:"Sample Bid 1"},bands:[{price:30,volume:10},{price:2,volume:5}]},moree:{meta:{label:"Sample Bid 2"},bands:[{price:10,volume:10},{price:15,volume:5}]}},state:"NSW",date_iso:0,total_volume:100,min_price:0,max_price:0,chart_price_cap:14e3,chart_price_floor:0,selected_bid:{meta:{}},sorted_bidstack:[],colors:{},filters:{fuel_source_primary:[]},selected_filters:{}}},computed:{chart_options:function(){for(var t=this,e=[],i=(new lt.a,0);i<this.demand.length;i++){var s=this.demand[i][0],n="";if(this.bidstacks[s]){var a="";for(var r in this.bidstacks[s])if(this.bidstacks[s].hasOwnProperty(r))for(var o in this.bidstacks[s][r].bands){o=this.bidstacks[s][r].bands[o];a+=r+o.price.toString()+o.volume.toString()}n=dt()(a),console.log("hash",a,n)}e.push({color:n,y:this.demand[i][1],x:s})}return{title:{text:"Demand"},series:[{name:"Demand",data:e,cursor:"pointer",marker:{enabled:!0},point:{events:{click:function(e){console.log("Clicked - selecting bid for timestep",this.x),t.selected=this.x,t.selected_demand=this.y}}}}]}}},watch:{selected:function(){this.bidstack=this.bidstacks[this.selected],this.draw_bidstack()}},methods:{select_bid:function(t){this.selected_bid=t},get_height_percent:function(t){var e=Math.min(this.max_price,this.chart_price_cap),i=Math.max(this.min_price,this.chart_price_floor);t=Math.max(t,this.chart_price_floor);t=Math.min(t,this.chart_price_cap);var s=Math.abs(100*t/(e-i));return s>=0&&s<1?1:s>-1&&s<1?-1:s},get_width_percent:function(t){return 100*t/this.total_volume},get_color:function(t){var e=dt()(t.meta.label);return console.log("color...",e),t.meta.label==this.selected_bid.meta.label&&(e="#000000"),e},get_transform:function(t){return t<0?"translateY(100%)":"none"},reset_bidstack:function(){this.sorted_bidstack=[],this.total_volume=0,this.max_price=0,this.min_price=0,this.colors={},this.selected_bid={meta:{}}},draw_bidstack:function(){this.reset_bidstack();var t=[],e=this.bidstack;for(var i in e){e[i];for(var s=0;s<e[i].bands.length;s++)e[i].bands[s].volume>0&&(t.push({generator:i,volume:e[i].bands[s].volume,price:e[i].bands[s].price,meta:e[i].meta}),this.total_volume+=e[i].bands[s].volume,e[i].bands[s].price>this.max_price&&(this.max_price=e[i].bands[s].price),e[i].bands[s].price<this.min_price&&(this.min_price=e[i].bands[s].price))}t.sort(function(t,e){return t.price-e.price}),this.sorted_bidstack=t}},mounted:function(){this.bidstacks&&(this.bidstack=this.bidstacks[this.selected]),this.selected=this.demand[0][0],this.draw_bidstack()}},ht=mt,pt=(i("b69b"),Object(p["a"])(ht,rt,ot,!1,null,"3d6b6ead",null));pt.options.__file="Bidstack.vue";var ft=pt.exports,_t=function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("div",{staticClass:"nes-container with-title"},[i("h3",{staticClass:"title"},[t._v("Chart: "+t._s(t.timeseries.label))]),i("highcharts",{attrs:{options:t.chartOptions}})],1)},vt=[],bt={name:"Simplechart",props:{timeseries:Object},data:function(){return{chartOptions:{title:{text:""},series:[{name:this.timeseries.label,data:this.timeseries.data}]}}}},gt=bt,kt=(i("93ff"),Object(p["a"])(gt,_t,vt,!1,null,"37125b19",null));kt.options.__file="Simplechart.vue";var yt=kt.exports,xt=function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("div",{},["display"==t.mode?i("div",{staticClass:"label-line"},[i("h1",[t._v(t._s(t.label_text))]),"display"==t.mode?i("div",{staticClass:"edit-label",on:{click:function(e){t.mode="edit"}}},[t._v("Edit")]):t._e()]):t._e(),"edit"==t.mode?i("textarea",{directives:[{name:"model",rawName:"v-model",value:t.label_text,expression:"label_text"}],staticClass:"nes-textarea",attrs:{id:"textarea_field"},domProps:{value:t.label_text},on:{input:function(e){e.target.composing||(t.label_text=e.target.value)}}}):t._e(),"edit"==t.mode?i("button",{staticClass:"nes-btn is-success",class:{"is-warning":t.is_submitting},attrs:{type:"button"},on:{click:function(e){t.submit_label()}}},[t.is_submitting?i("span",[t._v("Uploading...")]):i("span",[t._v("Submit")])]):t._e()])},St=[],Ct={name:"Notes",props:{label:String,id:String},data:function(){return{label_text:"Sample",mode:"display",is_submitting:!1}},methods:{submit_label:function(){var t=this;this.is_submitting||(this.is_submitting=!0,d.postLabel(this.id,this.label_text).then(function(e){console.log("Label submitted. Response:",e),t.mode="display",t.is_submitting=!1}).catch(function(t){console.log("Label submission error: ",t.message)}))}},mounted:function(){this.label_text=this.label}},wt=Ct,Ot=(i("c499"),Object(p["a"])(wt,xt,St,!1,null,"768ccefd",null));Ot.options.__file="Editableheader.vue";var jt=Ot.exports,Et={name:"Summary",props:{id:String},data:function(){return{simulation:null}},components:{Hyperparameters:M,Metadata:Z,Notes:at,Simplechart:yt,Bidstack:ft,Editableheader:jt,Archiving:q},methods:{refresh:function(){var t=this;this.simulation=null,d.fetchSimulation(this.id).then(function(e){t.simulation=e}).catch(function(t){console.log(t.message)})}},watch:{id:function(){this.refresh()}},mounted:function(){this.refresh()}},Mt=Et,Nt=(i("1539"),Object(p["a"])(Mt,H,W,!1,null,null,null));Nt.options.__file="Summary.vue";var $t=Nt.exports;s["a"].use(y["a"]);var At=new y["a"]({routes:[{path:"/",name:"home",component:R},{path:"/summary/:id",name:"summary",component:$t,props:!0},{path:"/api",name:"api",component:U}]}),Rt=i("2f62");s["a"].use(Rt["a"]);var Lt=new Rt["a"].Store({state:{},mutations:{},actions:{}}),Tt=(i("456d"),i("ac6a"),{formatTimestamp:function(t){var e=new Date(t);return e.toLocaleTimeString("en-US")}});Object.keys(Tt).forEach(function(t){s["a"].filter(t,Tt[t])});i("33e9");var Pt=i("2b5b"),Bt=i.n(Pt);s["a"].use(Bt.a),s["a"].config.productionTip=!1,new s["a"]({router:At,store:Lt,render:function(t){return t(k)}}).$mount("#app")},"5c0b":function(t,e,i){"use strict";var s=i("2856"),n=i.n(s);n.a},"77e8":function(t,e,i){},"8f25":function(t,e,i){},"93ff":function(t,e,i){"use strict";var s=i("b7c6"),n=i.n(s);n.a},9791:function(t,e,i){},a3b5:function(t,e,i){"use strict";var s=i("8f25"),n=i.n(s);n.a},a822:function(t,e,i){"use strict";var s=i("a98e"),n=i.n(s);n.a},a8f7:function(t,e,i){},a98e:function(t,e,i){},b69b:function(t,e,i){"use strict";var s=i("77e8"),n=i.n(s);n.a},b7c6:function(t,e,i){},bb99:function(t,e,i){},c499:function(t,e,i){"use strict";var s=i("bb99"),n=i.n(s);n.a},f0ba:function(t,e,i){}});
//# sourceMappingURL=app.73792e0d.js.map