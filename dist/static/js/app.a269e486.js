(function(t){function e(e){for(var n,r,o=e[0],c=e[1],u=e[2],d=0,m=[];d<o.length;d++)r=o[d],i[r]&&m.push(i[r][0]),i[r]=0;for(n in c)Object.prototype.hasOwnProperty.call(c,n)&&(t[n]=c[n]);l&&l(e);while(m.length)m.shift()();return a.push.apply(a,u||[]),s()}function s(){for(var t,e=0;e<a.length;e++){for(var s=a[e],n=!0,o=1;o<s.length;o++){var c=s[o];0!==i[c]&&(n=!1)}n&&(a.splice(e--,1),t=r(r.s=s[0]))}return t}var n={},i={app:0},a=[];function r(e){if(n[e])return n[e].exports;var s=n[e]={i:e,l:!1,exports:{}};return t[e].call(s.exports,s,s.exports,r),s.l=!0,s.exports}r.m=t,r.c=n,r.d=function(t,e,s){r.o(t,e)||Object.defineProperty(t,e,{enumerable:!0,get:s})},r.r=function(t){"undefined"!==typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(t,"__esModule",{value:!0})},r.t=function(t,e){if(1&e&&(t=r(t)),8&e)return t;if(4&e&&"object"===typeof t&&t&&t.__esModule)return t;var s=Object.create(null);if(r.r(s),Object.defineProperty(s,"default",{enumerable:!0,value:t}),2&e&&"string"!=typeof t)for(var n in t)r.d(s,n,function(e){return t[e]}.bind(null,n));return s},r.n=function(t){var e=t&&t.__esModule?function(){return t["default"]}:function(){return t};return r.d(e,"a",e),e},r.o=function(t,e){return Object.prototype.hasOwnProperty.call(t,e)},r.p="/";var o=window["webpackJsonp"]=window["webpackJsonp"]||[],c=o.push.bind(o);o.push=e,o=o.slice();for(var u=0;u<o.length;u++)e(o[u]);var l=c;a.push([0,"chunk-vendors"]),s()})({0:function(t,e,s){t.exports=s("56d7")},1174:function(t,e,s){"use strict";var n=s("afef"),i=s.n(n);i.a},1539:function(t,e,s){"use strict";var n=s("9791"),i=s.n(n);i.a},1914:function(t,e,s){},"20f4":function(t,e,s){},"21bb":function(t,e,s){"use strict";var n=s("1914"),i=s.n(n);i.a},2856:function(t,e,s){},3863:function(t,e,s){"use strict";var n=s("20f4"),i=s.n(n);i.a},"3b3b":function(t,e,s){"use strict";var n=s("f0ba"),i=s.n(n);i.a},"4a32":function(t,e,s){"use strict";var n=s("845d"),i=s.n(n);i.a},"56d7":function(t,e,s){"use strict";s.r(e);s("cadf"),s("551c"),s("097d");var n=s("2b0e"),i=function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("div",{attrs:{id:"app"}},[t._m(0),s("div",{staticClass:"main"},[s("div",{staticClass:"nav"},[s("sim-search",{attrs:{simulations:t.simulations}})],1),s("div",{staticClass:"content"},[s("router-view")],1)])])},a=[function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("div",{staticClass:"top"},[s("a",{attrs:{href:"/"}},[s("div",{staticClass:"title nes-text is-primary"},[t._v(" Deep Learning Logbook")])]),s("div",{staticClass:"ceem"},[t._v(" UNSW CEEM "),s("i",{staticClass:"nes-icon github is-small"})])])}],r=function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("div",{staticClass:"search"},[s("h4",[t._v("Simulations")]),s("div",{staticClass:"simlist"},t._l(t.simulations,function(e){return s("div",[s("router-link",{staticClass:"simlink",attrs:{to:{name:"summary",params:{id:e.id}}}},[t._v(t._s(e.label))])],1)}))])},o=[],c=s("bc3a"),u=s.n(c),l=u.a.create({baseURL:"/api/",headers:{"Content-Type":"application/json"}});l.interceptors.request.use(function(t){return t.headers["Authorization"]="Fake Token",t}),l.interceptors.response.use(function(t){return t},function(t){return console.log(t),Promise.reject(t)});var d={fetchResource:function(){return l.get("resource/xxx").then(function(t){return t.data})},fetchSecureResource:function(){return l.get("secure-resource/zzz").then(function(t){return t.data})},fetchSimulation:function(t){return l.get("simdata/"+t).then(function(t){return t.data})},fetchSimulationList:function(){return l.get("simdata/list").then(function(t){return t.data})},postNotes:function(t,e){return l.post("simdata/"+t+"/notes",{notes:e}).then(function(t){return t.data})}},m={name:"SimSearch",data:function(){return{simulations:[]}},methods:{refresh:function(){var t=this;this.simulation=null,d.fetchSimulationList().then(function(e){t.simulations=e}).catch(function(t){console.log(t.message)})}},mounted:function(){this.refresh()}},h=m,f=(s("1174"),s("2877")),p=Object(f["a"])(h,r,o,!1,null,"0685c56e",null);p.options.__file="SimSearch.vue";var _=p.exports,v={name:"app",components:{SimSearch:_},data:function(){return{simulations:[]}},mounted:function(){for(var t=0;t<100;t++)this.simulations.push({id:t,label:"Simulation "+t})}},b=v,g=(s("5c0b"),Object(f["a"])(b,i,a,!1,null,null,null));g.options.__file="App.vue";var k=g.exports,y=s("8c4f"),x=function(){var t=this,e=t.$createElement;t._self._c;return t._m(0)},S=[function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("div",{staticClass:"home"},[s("h1",{staticClass:"nes-text is-primary"},[t._v("Deep Learning Logbook")]),s("p",[t._v("This logbook tracks deep learning simulations of electricity markets. It is designed to provide insights into participant bidding behaviour. ")]),s("p",[t._v("It is the user interface for the openai gym electricity market simulator, developed by Luke Marshall at the UNSW Center for Energy and Environmental Markets.")]),s("p",[t._v("You can find the deep learning simulation code at the project github "),s("a",{attrs:{href:"https://github.com/luke-marshall/energy-market-deep-learning"}},[t._v("here.")])]),s("p",[t._v("The source code for this logbook dashboard tool can be found  "),s("a",{attrs:{href:"https://github.com/luke-marshall/market-control-room"}},[t._v("here.")])])])}],C=function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("div",{staticClass:"nes-container with-title"},[s("h3",{staticClass:"title"},[t._v("Hyperparameters.")]),s("table",{staticClass:"nes-table is-bordered is-centered",staticStyle:{width:"100%"}},t._l(t.hyperparameters,function(e,n){return s("tr",[s("td",[t._v(t._s(n))]),s("td",[t._v(t._s(e))])])}))])},w=[],O={name:"Hyperparameters",props:{hyperparameters:Object,msg:String}},j=O,M=(s("3863"),Object(f["a"])(j,C,w,!1,null,"5dbd5b2f",null));M.options.__file="Hyperparameters.vue";var E=M.exports,$={name:"home",components:{Hyperparameters:E}},N=$,R=(s("21bb"),Object(f["a"])(N,x,S,!1,null,null,null));R.options.__file="Home.vue";var T=R.exports,L=function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("div",{staticClass:"about"},[s("h1",[t._v("Backend Resources Demo")]),s("p",[t._v("Click on the links below to fetch data from the Flask server")]),s("a",{attrs:{href:""},on:{click:function(e){return e.preventDefault(),t.fetchResource(e)}}},[t._v("Fetch")]),s("br"),s("a",{attrs:{href:""},on:{click:function(e){return e.preventDefault(),t.fetchSecureResource(e)}}},[t._v("Fetch Secure Resource")]),s("h4",[t._v("Results")]),t._l(t.resources,function(e){return s("p",{key:e.timestamp},[t._v("\n    Server Timestamp: "+t._s(t._f("formatTimestamp")(e.timestamp))+"\n  ")])}),s("p",[t._v(t._s(t.error))])],2)},D=[],P={name:"about",data:function(){return{resources:[],error:""}},methods:{fetchResource:function(){var t=this;d.fetchResource().then(function(e){t.resources.push(e)}).catch(function(e){t.error=e.message})},fetchSecureResource:function(){var t=this;d.fetchSecureResource().then(function(e){t.resources.push(e)}).catch(function(e){t.error=e.message})}}},B=P,H=(s("a822"),Object(f["a"])(B,L,D,!1,null,null,null));H.options.__file="Api.vue";var A=H.exports,U=function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("div",{staticClass:"summary"},[t.simulation?s("div",[s("h1",[t._v(t._s(t.simulation.label))]),s("metadata",{attrs:{metadata:t.simulation.metadata}}),s("Notes",{attrs:{notes:t.simulation.notes,id:t.id}}),s("hyperparameters",{attrs:{hyperparameters:t.simulation.hyperparameters}}),t._l(t.simulation.timeseries,function(t,e){return s("simplechart",{attrs:{timeseries:t}})}),s("bidstack",{attrs:{bidstacks:t.simulation.bidstacks,demand:t.simulation.timeseries.demand.data}})],2):s("div",{staticClass:"loading"},[s("h1",[t._v("LOADING...")])])])},W=[],z=function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("div",{staticClass:"nes-container with-title"},[s("h3",{staticClass:"title"},[t._v("Metadata")]),s("table",{staticClass:"nes-table is-bordered is-centered",staticStyle:{width:"100%"}},t._l(t.metadata,function(e,n){return s("tr",[s("td",[t._v(t._s(n))]),s("td",[t._v(t._s(e))])])}))])},F=[],I={name:"Metadata",props:{metadata:Object}},J=I,Y=(s("a3b5"),Object(f["a"])(J,z,F,!1,null,"02575778",null));Y.options.__file="Metadata.vue";var q=Y.exports,G=function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("div",{staticClass:"nes-container with-title"},[s("h3",{staticClass:"title"},[t._v("Notes")]),"display"==t.mode?s("div",{staticClass:"nes-container notes-text"},[t._v("\n      "+t._s(t.notes_text)+"\n  ")]):t._e(),"display"==t.mode?s("button",{staticClass:"nes-btn is-primary",attrs:{type:"button"},on:{click:function(e){t.mode="edit"}}},[t._v("Edit")]):t._e(),"edit"==t.mode?s("textarea",{directives:[{name:"model",rawName:"v-model",value:t.notes_text,expression:"notes_text"}],staticClass:"nes-textarea",attrs:{id:"textarea_field"},domProps:{value:t.notes_text},on:{input:function(e){e.target.composing||(t.notes_text=e.target.value)}}}):t._e(),"edit"==t.mode?s("button",{staticClass:"nes-btn is-success",class:{"is-warning":t.is_submitting},attrs:{type:"button"},on:{click:function(e){t.submit_notes()}}},[t.is_submitting?s("span",[t._v("Uploading...")]):s("span",[t._v("Submit")])]):t._e()])},K=[],Q={name:"Notes",props:{notes:String,id:String},data:function(){return{notes_text:"Sample",mode:"display",is_submitting:!1}},methods:{submit_notes:function(){var t=this;this.is_submitting||(this.is_submitting=!0,d.postNotes(this.id,this.notes_text).then(function(e){console.log("Notes submitted. Response:",e),t.mode="display",t.is_submitting=!1}).catch(function(t){console.log("Note submission error: ",t.message)}))}},watch:{notes_text:function(){}},mounted:function(){this.notes_text=this.notes}},V=Q,X=(s("3b3b"),Object(f["a"])(V,G,K,!1,null,"22486ff2",null));X.options.__file="Notes.vue";var Z=X.exports,tt=function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("div",{staticClass:"nes-container with-title"},[s("h3",{staticClass:"title"},[t._v("Bidstack")]),s("div",{staticClass:"chart"},[s("highcharts",{attrs:{options:t.chart_options}})],1),s("span",[t._v("Selected timestep: "+t._s(t.selected))]),s("div",{staticClass:"columns"},[t._m(0),t._l(t.sorted_bidstack,function(e,n){return s("div",{staticClass:"column",style:{height:t.get_height_percent(e.price)+"%",width:t.get_width_percent(e.volume)+"%","background-color":t.get_color(e),transform:t.get_transform(e.price)},on:{click:function(s){t.select_bid(e)}}},[t._v("\n        "+t._s(e.meta.label)+" $"+t._s(e.price)+"\n      ")])})],2),s("span",[t._v("Selected Bid: "+t._s(t.selected_bid.meta.label)+" - $"+t._s(t.selected_bid.price)+"/MWh - "+t._s(t.selected_bid.volume)+" MWh ")])])},et=[function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("div",{staticClass:"y-axis-label"},[s("span",[t._v("Max")]),s("span",[t._v("Min")])])}],st=(s("55dd"),s("7f7f"),s("6b54"),s("ac2a")),nt=s.n(st),it={name:"Bidstack",props:{bidstacks:Object,demand:Array},data:function(){return{selected:"",bidstack:{nyngan:{meta:{label:"Sample Bid 1"},bands:[{price:30,volume:10},{price:2,volume:5}]},moree:{meta:{label:"Sample Bid 2"},bands:[{price:10,volume:10},{price:15,volume:5}]}},state:"NSW",date_iso:0,total_volume:100,min_price:0,max_price:0,chart_price_cap:14e3,chart_price_floor:0,selected_bid:{meta:{}},sorted_bidstack:[],colors:{},filters:{fuel_source_primary:[]},selected_filters:{}}},computed:{chart_options:function(){for(var t=this,e=[],s=new nt.a,n=0;n<this.demand.length;n++){var i=this.demand[n][0],a="";if(this.bidstacks[i]){var r="";for(var o in this.bidstacks[i])if(this.bidstacks[i].hasOwnProperty(o))for(var c in this.bidstacks[i][o].bands){c=this.bidstacks[i][o].bands[c];r+=o+c.price.toString()+c.volume.toString()}a=s.hex(r);console.log("hash",r,a)}e.push({color:a,y:this.demand[n][1],x:i})}return{title:{text:"Demand"},series:[{name:"Demand",data:e,cursor:"pointer",marker:{enabled:!0},point:{events:{click:function(e){console.log("Clicked - selecting bid for timestep",this.x),t.selected=this.x}}}}]}}},watch:{selected:function(){this.bidstack=this.bidstacks[this.selected],this.draw_bidstack()}},methods:{select_bid:function(t){this.selected_bid=t},get_height_percent:function(t){var e=Math.min(this.max_price,this.chart_price_cap),s=Math.max(this.min_price,this.chart_price_floor);t=Math.max(t,this.chart_price_floor);t=Math.min(t,this.chart_price_cap);var n=Math.abs(100*t/(e-s));return n>=0&&n<1?1:n>-1&&n<1?-1:n},get_width_percent:function(t){return 100*t/this.total_volume},get_color:function(t){for(var e=new nt.a,s=e.rgb(t.meta.label),n="",i=0;i<s.length;i++)n+=s[i].toString(16);return t.meta.label==this.selected_bid.meta.label&&(n="000000"),"#"+n},get_transform:function(t){return t<0?"translateY(100%)":"none"},reset_bidstack:function(){this.sorted_bidstack=[],this.total_volume=0,this.max_price=0,this.min_price=0,this.colors={},this.selected_bid={meta:{}}},draw_bidstack:function(){this.reset_bidstack();var t=[],e=this.bidstack;for(var s in e){e[s];for(var n=0;n<e[s].bands.length;n++)e[s].bands[n].volume>0&&(t.push({generator:s,volume:e[s].bands[n].volume,price:e[s].bands[n].price,meta:e[s].meta}),this.total_volume+=e[s].bands[n].volume,e[s].bands[n].price>this.max_price&&(this.max_price=e[s].bands[n].price),e[s].bands[n].price<this.min_price&&(this.min_price=e[s].bands[n].price))}t.sort(function(t,e){return t.price-e.price}),this.sorted_bidstack=t}},mounted:function(){this.bidstacks&&(this.bidstack=this.bidstacks[this.selected]),this.selected=this.demand[0][0],this.draw_bidstack()}},at=it,rt=(s("4a32"),Object(f["a"])(at,tt,et,!1,null,"4188dd18",null));rt.options.__file="Bidstack.vue";var ot=rt.exports,ct=function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("div",{staticClass:"nes-container with-title"},[s("h3",{staticClass:"title"},[t._v("Chart: "+t._s(t.timeseries.label))]),s("highcharts",{attrs:{options:t.chartOptions}})],1)},ut=[],lt={name:"Simplechart",props:{timeseries:Object},data:function(){return{chartOptions:{title:{text:""},series:[{name:this.timeseries.label,data:this.timeseries.data}]}}}},dt=lt,mt=(s("93ff"),Object(f["a"])(dt,ct,ut,!1,null,"37125b19",null));mt.options.__file="Simplechart.vue";var ht=mt.exports,ft={name:"Summary",props:{id:String},data:function(){return{simulation:null}},components:{Hyperparameters:E,Metadata:q,Notes:Z,Simplechart:ht,Bidstack:ot},methods:{refresh:function(){var t=this;this.simulation=null,d.fetchSimulation(this.id).then(function(e){t.simulation=e}).catch(function(t){console.log(t.message)})}},watch:{id:function(){this.refresh()}},mounted:function(){this.refresh()}},pt=ft,_t=(s("1539"),Object(f["a"])(pt,U,W,!1,null,null,null));_t.options.__file="Summary.vue";var vt=_t.exports;n["a"].use(y["a"]);var bt=new y["a"]({routes:[{path:"/",name:"home",component:T},{path:"/summary/:id",name:"summary",component:vt,props:!0},{path:"/api",name:"api",component:A}]}),gt=s("2f62");n["a"].use(gt["a"]);var kt=new gt["a"].Store({state:{},mutations:{},actions:{}}),yt=(s("456d"),s("ac6a"),{formatTimestamp:function(t){var e=new Date(t);return e.toLocaleTimeString("en-US")}});Object.keys(yt).forEach(function(t){n["a"].filter(t,yt[t])});s("33e9");var xt=s("2b5b"),St=s.n(xt);n["a"].use(St.a),n["a"].config.productionTip=!1,new n["a"]({router:bt,store:kt,render:function(t){return t(k)}}).$mount("#app")},"5c0b":function(t,e,s){"use strict";var n=s("2856"),i=s.n(n);i.a},"845d":function(t,e,s){},"8f25":function(t,e,s){},"93ff":function(t,e,s){"use strict";var n=s("b7c6"),i=s.n(n);i.a},9791:function(t,e,s){},a3b5:function(t,e,s){"use strict";var n=s("8f25"),i=s.n(n);i.a},a822:function(t,e,s){"use strict";var n=s("a98e"),i=s.n(n);i.a},a98e:function(t,e,s){},afef:function(t,e,s){},b7c6:function(t,e,s){},f0ba:function(t,e,s){}});
//# sourceMappingURL=app.a269e486.js.map